## 개략적 설계안
* 단말: 컴퓨터, 모바일, 스마트 TV
* CDN: 비디오 저장소. 재생을 누르면 CDN으로부터 스트리밍이 이루어 짐
* API 서버: 비디오 스트리밍을 제외한 모든 요청

### 비디오 업로드 절차
#### 컴포넌트
* 사용자
* 로드밸런서
* API 서버
* 메타데이터 디비: 비디오의 메타데이터 보관, 샤딩과 레플리케이션으로 확장 가능
* 메타데이터 캐시: 비디오 메타데이터와 사용자 정보를 캐시
* 원본 저장소: 원본 비디오가 보관될 대형 이진 파일 저장소
* 트랜스 코딩 서버: 비디오 인코딩 담당
* 트랜스 코딩 비디오 저장소: 인코딩이 완료된 비디오를 보관할 BLOB 저장소
* CDN: 비디오를 캐시하는 역할, 재생을 누르면 스트리밍은 이곳에서 이루어짐
* 트랜스 코딩 완료 큐: 비디오 트랜스코딩 완료 이벤트를 보관할 메시지 큐
* 트랜스 코딩 완료 핸들러: 완료 큐에서 이벤트 데이터를 꺼내 메타데이터 캐시와 디비를 갱신할 작업 서버

## 시스템 최적화
### 속도 최적화
* 비디오 병렬 업로드
  * 작은 GOP들로 분할하고 병렬 업로드
* 업로드 센터를 사용자 근거리에 지정
  * 업로드 센터를 여러곳에 두고 사용
* 모든 절차를 병렬화
  * 결합도를 낮춰 의존성을 최소화 해 병렬화

### 안정성 최적화
* 미리 사인된 업로드 URL
  * 허가받은 사용자만 올바른 장소에 비디오를 업로드하기 위해 미리 사인된 업로드 URL 사용
* 비디오 보호
  * 디지털 저작권 관리 시스템 도입
  * AES 암호화: 허락된 사용자만 암호화 된 비디오 시청 가능
  * 워터마크

### 비용 최적화
* 인기 비디오는 CDN을 통해 재생하고 다른 비디오는 비디오 서버를 통해 재생
* 인기없는 짧은 비디오는 필요할 때 인코딩









### 적정 파티션 개수
* 토픽 최초 생성시 파티션 개수 생성에 고려할 점
  * 데이터 처리량
    * 1:1 매핑되는 컨슈머 개수로 인해 파티션은 카프카 병렬처리의 핵심이다.
    * 프로듀서 전송량 < 컨슈머 처리량 * 파티션 개수
  * 메시지 키 사용 여부
    * 데이터 처리 순서를 지켜야 하는 경우
  * 브로커, 컨슈머 영향도
    * 운영체제 레벨에서 프로세스당 열 수 있는 파일 최대 개수를 제한하고 있다.
   
### 토픽 정리 정책
* cleanup.policy
* 토픽의 데이터는 시간, 용량에 따라 삭제 규칙을 적용할 수 있다.

#### 토픽 삭제 정책 (delete policy) 
* 일반적으로 대부분의 토픽은 delete로 설정한다.
* 세그먼트 단위로 삭제를 진행한다.
* 삭제된 데이터는 복구할 수 없다.

#### 토픽 압축 정책 (compact policy)
* 메시지 키별로 해당 메시지 키의 레코드 중 오래된 데이터를 삭제하는 정책이다.
* 액티브 세그먼트를 제외한 나머지 세그먼트들에 한해서 처리한다.

### ISR
* 리더 파티션과 팔로워 파티션이 모두 싱크가 된 상태를 뜻한다.
* ISR로 묶인 파티션은 파티션에 존재하는 데이터가 동일하다.

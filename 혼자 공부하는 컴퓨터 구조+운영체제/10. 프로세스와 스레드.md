## 프로세스 제어블록 (PCB)
* 프로세스와 관련된 정보를 저장하는 자료구조
* 커널영역에 생성됨
* 새로운 프로세스가 생길때 생성되고 종료될때 폐기된다.

<br>

### PCB에 담기는 정보
* 프로세스 ID
  * 프로세스를 식별하기위한 unique key
* 레지스터 값
  * 프로세스는 자신의 실행차례가 돌아오면 이전에 사용했던 레지스터의 값들을 모두 복원한다.
  * 사용했던 프로그램 카운터를 비롯한 레지스터 값들이 담긴다.
* 프로세스 상태
  * 현재 프로세스의 상태 정보
    * 입출력 장치를 사용하려고 대기중인지, CPU를 사용하려고 대기중인지, CPU를 사용중인지 등등
* CPU 스케줄링 정보
  * 프로세스가 언제, 어떤 순서로 CPU를 할당받을지에 대한 정보
* 메모리 관리 정보
  * 프로세스가 저장된 메모리의 위치 정보
  * 베이스 레지스터, 한계 레지스터 등의 정보
  * 페이지 테이블 정보
* 사용자파일과 입출력장치 목록
  * 어떤 입출력장치가 이 프로세스에 할당되었는지, 어떤 파일들을 열었는지 등의 대한 정보

<br>

## 문맥교환
기존 프로세스의 문맥을 PCB에 백업하고, 새로운 프로세스를 실행하기 위해 문맥을 PCB로부터 복구하여 새로운 프로세스를 실행하는 것
* 문맥 : 하나의 프로세스 수행을 재개하기 위해 기억해야 할 정보

<br>

## 프로세스의 메모리 영역
* 코드 영역
  * 실행할 수 있는 코드, 즉 기계어로 이루어진 명령어가 저장된다.
  * CPU가 실행할 명령어가 담겨있기 때문에 읽기 전용 공간이다.
* 데이터 영역
  * 프로그램이 실행되는 동안 유지할 데이터가 저장되는 공간
    * ex) 전역변수
* 힙 영역
  * 프로그래머가 직접 할당할 수 있는 저장공간
  * 메모리 누수가 발생되는 영역
* 스택 영역
  * 데이터를 일시적으로 저장하는 공간
  * 일시적으로 저장할 데이터는 스택영역에 push 되고, 필요없어지면 pop된다.
    * ex) 매개변수, 지역변수
   
<br>

## 프로세스 상태
* 생성 상태
  * 프로세스를 생성중인 상태
  * 이제 막 메모리에 적재되어 PCB를 할당받은 상태
* 준비 상태
  * CPU를 할당받아 실행할 수 있지만 자신의 차례가 아니라서 기다리고 있는 상태
* 실행 상태
  * CPU를 할당받아 실행중인 상태
  * 할당된 시간을 모두 사용하면 다시 준비상태가 된다
* 대기 상태
  * 입출력 장치의 작업을 기다리는 상태
  * 입출력 작업이 완료되면 다시 준비상태가 된다
* 종료 상태
  * 프로세스가 종료된 상태
  * 운영체제는 프로세스가 종료되면 PCB와 프로세스가 사용한 메모리를 정리한다.

<br>

## 프로세스 계층 구조
프로세스는 실행도중 시스템호출을 통해 다른 프로세스를 생성할 수 있다.
* 부모 프로세스 : 새 프로세스를 생성한 프로세스
* 자식 프로세스 : 부모 프로세스에 의해 생성된 프로세스

<br>

## 프로세스 생성 기법
부모 프로세스는 fork를 통해 자신의 복사본을 자식 프로세스로 생성하고, 자식프로세스는 exec를 통해 자신의 메모리공간을 다른프로그램으로 교체한다.

<br>

## 스레드
프로세스를 구성하는 실행의 흐름 단위
* 하나의 프로세스는 여러개의 스레드를 가질 수 있고, 하나의 프로세스에서 여러 부분을 동시에 실행할 수 있다.
* 프로세스 내에서 각기 다른 스레드ID, 프로그램 카운터, 레지스터값, 스택 으로 구성되기 때문에 각기 다른코드를 실행할 수 있다.
* 스레드들은 프로세스의 자원을 공유한다.

<br>

### 멀티프로세스와 멀티스레드
* 멀티프로세스 : 여러 프로세스를 동시에 실행하는 것
* 멀티스레드 : 스레드로 프로세스를 동시에 실행하는 것




  
